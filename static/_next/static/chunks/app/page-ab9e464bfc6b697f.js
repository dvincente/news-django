(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{756:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(5155),l=a(2115),c=a(1874),r=a(3464);let n="http://localhost:8085";function i(){let[e,t]=(0,l.useState)(0),[a,i]=(0,l.useState)(0),[o,x]=(0,l.useState)([]),[d,h]=(0,l.useState)(""),{article:m,setArticle:g}=(0,c.B)(),u=e=>{let t=Math.max(1,e);h(Math.min(e,a))},b=async()=>{try{let e=await r.A.get("".concat(n,"/newsLength"));i(Math.ceil(e.data.total/10)),t(1)}catch(e){console.log(e,"=====error in get articles count======")}},p=async()=>{try{let t=await r.A.get("".concat(n,"/getNews?page=").concat(e,"&limit=").concat(10));x(t.data.data)}catch(e){console.log(e,"=====error in get articles======")}};return(0,l.useEffect)(()=>{b()},[]),(0,l.useEffect)(()=>{e>0&&p()},[e]),(0,s.jsxs)("main",{children:[m?(0,s.jsx)("div",{className:"relative w-full h-[500px] bg-cover bg-center",style:{backgroundImage:"url(".concat(m.image_url,")")},children:(0,s.jsx)("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center text-white max-w-4xl px-4",children:[(0,s.jsx)("h1",{className:"text-5xl font-bold mb-4",children:m.title}),(0,s.jsxs)("span",{className:"text-white-400",children:["Posted by ",(0,s.jsx)("a",{className:"hover:underline",children:m.authors})," on ",new Date(1e3*m.published_on).toDateString()]})]})})}):(0,s.jsx)("div",{className:"relative w-full h-[500px] bg-cover bg-center bg-[url('https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05')]",children:(0,s.jsx)("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-center text-white",children:(0,s.jsx)("h1",{className:"text-5xl font-bold mb-4",children:"News"})})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:m?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("article",{className:"container mx-auto px-4 py-12 max-w-4xl",children:(0,s.jsx)("p",{className:"mb-4 text-lg",children:m.body})})}):(0,s.jsxs)(s.Fragment,{children:[o.map((e,t)=>(0,s.jsx)("article",{className:"mb-12 ".concat(t!==o.length-1?"pb-12 border-b border-gray-200":""),children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsx)("img",{src:e.image_url,className:"w-48 h-48 mx-auto"}),(0,s.jsxs)("div",{className:"block",children:[(0,s.jsx)("div",{className:"text-black hover:text-[#0085A1] cursor-pointer",onClick:()=>{g(e)},children:(0,s.jsx)("h2",{className:"text-4xl font-bold transition-colors mb-2",children:e.title})}),(0,s.jsxs)("p",{className:"text-gray-500",children:["Posted by ",(0,s.jsx)("a",{className:"text-gray-700 hover:underline",children:e.authors})," on ",new Date(1e3*e.published_on).toDateString()]})]})]})},t)),(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4 mt-8",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:()=>t(e=>Math.max(e-1,1)),disabled:1==e,className:"px-4 py-2 rounded ".concat(1==e?"bg-gray-300 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"),children:"← Previous"}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(()=>{let t=[],s=Math.max(1,e-2),l=Math.min(a,s+5-1);l-s+1<5&&(s=Math.max(1,l-5+1));for(let e=s;e<=l;e++)t.push(e);return t})().map(a=>(0,s.jsx)("button",{onClick:()=>t(a),className:"w-8 h-8 rounded ".concat(e===a?"bg-gray-800 text-white":"bg-gray-200 hover:bg-gray-300"),children:a},a))}),(0,s.jsx)("button",{onClick:()=>t(e=>Math.min(e+1,a)),disabled:e==a,className:"px-4 py-2 rounded ".concat(e==a?"bg-gray-300 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"),children:"Next →"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"number",min:"1",max:a,value:d,onChange:e=>u(e.target.value),placeholder:"Go to page...",className:"w-24 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:border-gray-500"}),(0,s.jsx)("button",{type:"submit",className:"px-3 py-1 bg-gray-800 text-white rounded hover:bg-gray-700",onClick:()=>{let e=Math.max(1,d);t(Math.min(d,a))},children:"Go"}),(0,s.jsxs)("span",{className:"text-gray-500",children:["Page ",e," of ",a]})]})]})]})})]})}},1874:(e,t,a)=>{"use strict";a.d(t,{B:()=>c,Y:()=>l});var s=a(2115);let l=(0,s.createContext)(),c=()=>(0,s.useContext)(l)},8483:(e,t,a)=>{Promise.resolve().then(a.bind(a,756))}},e=>{var t=t=>e(e.s=t);e.O(0,[464,441,684,358],()=>t(8483)),_N_E=e.O()}]);